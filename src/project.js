window.__require=function t(e,i,c){function a(s,o){if(!i[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!o&&h)return h(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+s+"'")}}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){return a(e[s][1][t]||t)},l,l.exports,t,e,i,c)}return i[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<c.length;s++)a(c[s]);return a}({achievement:[function(t,e,i){"use strict";cc._RF.push(e,"0fd7cpbJIRI+55yympKCrjm","achievement"),Object.defineProperty(i,"__esModule",{value:!0});i.default={achievementData:[{content:"\u91d1\u699c\u9898\u540d\u65f6"},{content:"\u5b89\u5f97\u5e7f\u53a6\u5343\u4e07\u95f4"},{content:"\u7b2c\u4e00\u6b21\u6e38\u620f\u901a\u5173"}],check:function(){}},e.exports=i.default,cc._RF.pop()},{}],action:[function(t,e,i){"use strict";cc._RF.push(e,"c274bwDBTRPbrYuJYjDH1iJ","action"),Object.defineProperty(i,"__esModule",{value:!0});var c={addCallback:function(t,e){return cc.sequence(t,cc.callFunc(function(){}))},fadeInAction:function(t,e,i){e=e||1,t.opacity=0;var c=cc.fadeIn(e);return i?c:this.addCallback(c,i)},shackAction:function(t,e,i){t=t||.1,e=e||20;var c=cc.moveBy(t,e,e),a=cc.moveBy(t,-e,-e),n=cc.moveBy(.8*t,.8*e,.8*e),s=cc.moveBy(.8*t,.8*-e,.8*-e),o=cc.moveBy(.6*t,.6*e,.6*e),r=cc.moveBy(.6*t,.6*-e,.6*-e),h=cc.moveBy(.4*t,.4*e,.4*e),l=cc.moveBy(.4*t,.4*-e,.4*-e),u=cc.moveBy(.2*t,.2*e,.2*e),g=cc.moveBy(.2*t,.2*-e,.2*-e),p=cc.sequence(c,a,n,s,o,r,h,l,u,g);return i?p:this.addCallback(p,i)},rockAction:function(t,e,i){t=t||.1,e=e||20;var c=cc.rotateBy(t,e,e),a=cc.rotateBy(t,-2*e,-2*e),n=cc.rotateBy(.8*t,2*e*.8,2*e*.8),s=cc.rotateBy(.6*t,-2*e*.6,-2*e*.6),o=cc.rotateBy(.4*t,2*e*.4,2*e*.4),r=cc.rotateTo(.2*t,0,0),h=cc.sequence(c,a,n,s,o,r);return i?h:this.addCallback(h,i)},popOut:function(t,e){t=t||.5;var i=cc.scaleTo(t,1).easing(cc.easeBackOut(2));return e?this.addCallback(i,e):i},popIn:function(t,e){t=t||.5;var i=cc.scaleTo(t,0).easing(cc.easeBackIn(2));return e?this.addCallback(i,e):i},typingAni:function(t,e,i){var c=this,a="",n=e.split(""),s=n.length,o=0;c.func=function(){a+=n[o],t.string=a,++o==s&&(c.unschedule(c.func,c),i())},c.schedule(c.func,.05,cc.macro.REPEAT_FOREVER,0)}};i.default=c,e.exports=i.default,cc._RF.pop()},{}],character:[function(t,e,i){"use strict";cc._RF.push(e,"63989nD1xlNVqCio7JHbcer","character"),cc.Class({extends:cc.Component,properties:{controller:t("game")},init:function(t,e){this._game=t},start:function(){},onChoose:function(){}}),cc._RF.pop()},{game:"game"}],game:[function(t,e,i){"use strict";cc._RF.push(e,"aa635c202BAxJ6kffLBHhuK","game");var c=t("utils.js"),a=t("action.js"),n=t("playerData.js");cc.Class({extends:cc.Component,properties:{status:0,dialogs:[cc.Node],player:cc.Node,target:cc.Node,gap:cc.Node,config:cc.JsonAsset,levelData:cc.JsonAsset,characterPrefab:cc.Prefab,characterConfig:cc.JsonAsset},level:0,progress:0,onLoad:function(){cc.director.getCollisionManager().enabled=!0;var t=cc.director.getScene().getChildByName("Canvas");c.setDesignResolution(),t.on(cc.Node.EventType.TOUCH_START,this._onTouchBegin,this),t.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},loadRes:function(){},init:function(){},start:function(){this.config=this.config.json,this.PD=n.loadData(),console.log(this.PD),this.level=this.PD.level,this.showStartPage()},_onTouchBegin:function(t){2==this.playerStatus&&1==this.status&&(this.playerGetBigger=!0)},_onTouchEnd:function(t){1==this.playerGetBigger&&1==this.status&&(this.playerGetBigger=!1,this.playerStatus=1)},_onTouchCancel:function(t){},playerStatus:0,update:function(){if(1==this.status||2==this.status)switch(this.playerStatus){case 0:break;case 1:this.playerRush();break;case 2:this.playerBack();break;case 3:this.failRebound()}},onPlayerCollision:function(t,e){if(this.playerStatus=2)switch(t.node.group){case"target":this.checkIsBig(this.player,t.node)?this.successPunch():this.gameOver();break;case"gap":this.gameOver()}},checkSkill:function(){},checkAkt:function(){},showCharacter:function(){var t=this;this.characterConfig.json.map(function(e,i){cc.instantiate(t.characterPrefab).getComponent("character").init(t,e)})},switchCharacter:function(t){},gameStart:function(){this.status=1,this.playerStatus=2,this.initGameLevel(),this.operateDialog(0,0)},gameRestart:function(){(this.status=2)&&(this.status=1,this.operateDialog(2,0),this.init(),this.gameStart())},initGameLevel:function(){this.progress=1,this.initTarget(this.levelData.json[this.level-1].progress[this.progress-1]),this.initGamePos()},progressUp:function(){console.log(this.level,this.progress),this.progress!=this.levelData.json[this.level-1].progress.length?(this.progress++,this.initTarget(this.levelData.json[this.level-1].progress[this.progress-1]),this.initGamePos()):this.onLevelSuccess()},onLevelSuccess:function(){this.operateDialog(4,1)},initTarget:function(t){this.target.width=this.target.height=100*(1.5*Math.random()+.5),this.gapWeight=100*(1.5*Math.random()+.005*(100-this.level-this.progress))+this.target.width},levelUp:function(){this.operateDialog(4,0),this.level++,this.gameStart()},initGamePos:function(){var t=this,e=cc.moveTo(.4,0,window.winSize.height/2-this.config.targetOriginPos);this.target.runAction(e);var i=cc.moveBy(.3,0,-300),c=cc.fadeOut(.3),a=cc.moveTo(.3,0,window.winSize.height/2-this.config.gapOriginPos),n=cc.fadeIn(.3),s=cc.sequence(cc.spawn(i,c),cc.callFunc(function(){t.gap.getChildByName("left").x=-window.winSize.width-t.gap.getChildByName("left").width/2,t.gap.getChildByName("right").x=+window.winSize.width+t.gap.getChildByName("right").width/2,t.gap.y=window.winSize.height+t.gap.height;var e=cc.moveTo(.3,-t.gapWeight/2,0),i=cc.moveTo(.3,t.gapWeight/2,0);t.gap.getChildByName("left").runAction(e),t.gap.getChildByName("right").runAction(i)}),cc.spawn(a,n));this.gap.runAction(s)},gameOver:function(){1==this.status&&(this.status=2,this.playerStatus=3,this.operateDialog(2,1))},successPunch:function(){var t=this;this.playerStatus=2;var e=cc.moveBy(.1,0,window.winSize.height/2+this.target.height),i=cc.sequence(e,cc.callFunc(function(){t.progressUp()}));this.target.runAction(i)},operateDialog:function(t,e){var i="";"number"==typeof t&&(t=this.dialogs[t]),e?(t.scale=.5,t.active=!0,i=a.popOut(.5)):i=a.popIn(.5),t.runAction(i)},openDialogBtn:function(t,e){console.log(+e),this.operateDialog(+e,1)},closeDialogBtn:function(t,e){console.log(+e),this.operateDialog(+e,0)},showStartPage:function(){this.closeAllDialogs(0),this.operateDialog(0,1)},closeAllDialogs:function(t){for(var e=0;e<this.dialogs.length;e++)t!=e&&1!=e&&this.operateDialog(e,0)},playerRush:function(){this.player.y+=20*(this.player.scale-1)*.5+40},playerBack:function(){this.playerGetBigger?this.player.scale=this.player.scale>this.config.maxScale?this.config.maxScale:this.player.scale+.05*this.config.increaseMultiple:this.player.scale=this.player.scale<1?1:this.player.scale-.05*this.config.reduceMultiple,this.player.y>-window.winSize.height/2+this.config.targetOriginPos?this.player.y-=(this.player.y+window.winSize.height/2-this.config.playerOriginPos)/50:this.player.y=-window.winSize.height/2+this.config.targetOriginPos},failRebound:function(){this.player.y>-window.winSize.height/2+this.config.targetOriginPos?this.player.y-=(this.player.y+window.winSize.height/2-this.config.playerOriginPos)/100:this.player.y=-window.winSize.height/2+this.config.playerOriginPos},checkIsBig:function(t,e){return t.width*t.scale>e.width*e.scale}}),cc._RF.pop()},{"action.js":void 0,"playerData.js":void 0,"utils.js":void 0}],playerData:[function(t,e,i){"use strict";cc._RF.push(e,"a7d9cCUj0FB4rakB1iktQea","playerData"),Object.defineProperty(i,"__esModule",{value:!0});var c=cc.sys.platform==cc.sys.WECHAT_GAME,a={saveData:function(t,e){t=t||"playerData",c||cc.sys.localStorage.setItem(t,e)},isFirstTime:function(){return cc.sys.localStorage.getItem("isPlayed")},loadData:function(t){t=t||"playerData";if(!c)return JSON.parse(cc.sys.localStorage.getItem(t))||{level:1,atk:1,character:[{level:1,have:!0},{level:2,have:!1}]}},getHighestScore:function(){}};i.default=a,e.exports=i.default,cc._RF.pop()},{}],player:[function(t,e,i){"use strict";cc._RF.push(e,"95035k8E9ZD+pt4dionYuQn","player"),cc.Class({extends:cc.Component,properties:{controller:t("game")},start:function(){},onCollisionEnter:function(t,e){this.controller.onPlayerCollision(t,e)}}),cc._RF.pop()},{game:"game"}],"use_v2.0.x_cc.Toggle_event":[function(t,e,i){"use strict";cc._RF.push(e,"e6b5d3CQnBHfquY5F3C2RZ4","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],utils:[function(t,e,i){"use strict";cc._RF.push(e,"87dcckZLLpFg6TB0TbvWFq6","utils"),Object.defineProperty(i,"__esModule",{value:!0});cc.sys.platform,cc.sys.WECHAT_GAME;var c={setDesignResolution:function(){var t=cc.find("Canvas").getComponent(cc.Canvas),e=cc.director.getWinSize();window.winSize=e,e.width/e.height>9/16?(t.fitWidth=!1,t.fitHeight=!0):(t.fitWidth=!0,t.fitHeight=!1)},random:function(t,e){return t+Math.floor(Math.random()*(e-t))},getAngle:function(t,e,i,c){var a=Math.abs(t-i),n=Math.abs(e-c),s=n/Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),o=Math.acos(s);return 180/(Math.PI/o)}};i.default=c,e.exports=i.default,cc._RF.pop()},{}]},{},["character","game","player","use_v2.0.x_cc.Toggle_event","achievement","action","playerData","utils"]);